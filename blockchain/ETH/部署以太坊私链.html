<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>搭建以太坊私链 | XzXie&#39;s docs</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="notes, blogs, share">
    
    <link rel="preload" href="/assets/css/0.styles.9f84806b.css" as="style"><link rel="preload" href="/assets/js/app.d06c6709.js" as="script"><link rel="preload" href="/assets/js/2.58244656.js" as="script"><link rel="preload" href="/assets/js/1.6ba70183.js" as="script"><link rel="preload" href="/assets/js/25.75176990.js" as="script"><link rel="prefetch" href="/assets/js/10.0720960b.js"><link rel="prefetch" href="/assets/js/11.2a97faa3.js"><link rel="prefetch" href="/assets/js/12.6b9ed61d.js"><link rel="prefetch" href="/assets/js/13.ebfb1f42.js"><link rel="prefetch" href="/assets/js/14.3e65117c.js"><link rel="prefetch" href="/assets/js/15.2d87bde7.js"><link rel="prefetch" href="/assets/js/16.9ca9aae8.js"><link rel="prefetch" href="/assets/js/17.3dbcb51f.js"><link rel="prefetch" href="/assets/js/18.4c170722.js"><link rel="prefetch" href="/assets/js/19.d8afd0ae.js"><link rel="prefetch" href="/assets/js/20.10e47ab9.js"><link rel="prefetch" href="/assets/js/21.0ad1d6a3.js"><link rel="prefetch" href="/assets/js/22.b7c97fbe.js"><link rel="prefetch" href="/assets/js/23.4d1da05b.js"><link rel="prefetch" href="/assets/js/24.f6864778.js"><link rel="prefetch" href="/assets/js/26.59fe80a5.js"><link rel="prefetch" href="/assets/js/27.a811c9bb.js"><link rel="prefetch" href="/assets/js/28.6b59eb8d.js"><link rel="prefetch" href="/assets/js/29.f41b1a18.js"><link rel="prefetch" href="/assets/js/3.bc6bba9e.js"><link rel="prefetch" href="/assets/js/30.487fc7a2.js"><link rel="prefetch" href="/assets/js/31.3548df4f.js"><link rel="prefetch" href="/assets/js/32.a77f1645.js"><link rel="prefetch" href="/assets/js/33.0d7de458.js"><link rel="prefetch" href="/assets/js/34.c598fd10.js"><link rel="prefetch" href="/assets/js/35.79c21276.js"><link rel="prefetch" href="/assets/js/36.1454edc2.js"><link rel="prefetch" href="/assets/js/37.ca307149.js"><link rel="prefetch" href="/assets/js/38.7119b7a7.js"><link rel="prefetch" href="/assets/js/39.93ec7e0b.js"><link rel="prefetch" href="/assets/js/4.45665f8a.js"><link rel="prefetch" href="/assets/js/40.fd10051f.js"><link rel="prefetch" href="/assets/js/5.7098d77a.js"><link rel="prefetch" href="/assets/js/6.0c0a0f39.js"><link rel="prefetch" href="/assets/js/7.6a854e57.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9f84806b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="XzXie's docs" class="logo"> <span class="site-name can-hide">XzXie's docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="区块链" class="dropdown-title"><span class="title">区块链</span> <span class="arrow down"></span></button> <button type="button" aria-label="区块链" class="mobile-dropdown-title"><span class="title">区块链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blockchain/BTC/比特币与区块链.html" class="nav-link">
  比特币
</a></li><li class="dropdown-item"><!----> <a href="/blockchain/ETH/部署以太坊私链.html" class="nav-link">
  以太坊
</a></li><li class="dropdown-item"><!----> <a href="/blockchain/Fabric/1_部署 Fabric 生产网络.html" class="nav-link">
  Fabric
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end/Vue/Vue2.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end/VuePress/VuePress项目部署.html" class="nav-link">
  VuePress
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/xBeTe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="区块链" class="dropdown-title"><span class="title">区块链</span> <span class="arrow down"></span></button> <button type="button" aria-label="区块链" class="mobile-dropdown-title"><span class="title">区块链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blockchain/BTC/比特币与区块链.html" class="nav-link">
  比特币
</a></li><li class="dropdown-item"><!----> <a href="/blockchain/ETH/部署以太坊私链.html" class="nav-link">
  以太坊
</a></li><li class="dropdown-item"><!----> <a href="/blockchain/Fabric/1_部署 Fabric 生产网络.html" class="nav-link">
  Fabric
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end/Vue/Vue2.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end/VuePress/VuePress项目部署.html" class="nav-link">
  VuePress
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/xBeTe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/about.html" class="sidebar-link">关于</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/blockchain/" class="sidebar-heading clickable router-link-active open"><span>区块链</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>比特币</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>以太坊</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blockchain/ETH/部署以太坊私链.html" class="active sidebar-link">搭建以太坊私链</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blockchain/ETH/部署以太坊私链.html#go-ethereum下载安装" class="sidebar-link">Go Ethereum下载安装</a></li><li class="sidebar-sub-header"><a href="/blockchain/ETH/部署以太坊私链.html#编写genesis-json" class="sidebar-link">编写genesis.json</a></li><li class="sidebar-sub-header"><a href="/blockchain/ETH/部署以太坊私链.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/blockchain/ETH/部署以太坊私链.html#启动链" class="sidebar-link">启动链</a></li><li class="sidebar-sub-header"><a href="/blockchain/ETH/部署以太坊私链.html#创建新账号" class="sidebar-link">创建新账号</a></li><li class="sidebar-sub-header"><a href="/blockchain/ETH/部署以太坊私链.html#开始-mining" class="sidebar-link">开始 mining</a></li><li class="sidebar-sub-header"><a href="/blockchain/ETH/部署以太坊私链.html#开启-http-访问" class="sidebar-link">开启 http 访问</a></li><li class="sidebar-sub-header"><a href="/blockchain/ETH/部署以太坊私链.html#转账" class="sidebar-link">转账</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Fabric</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/front-end/" class="sidebar-heading clickable"><span>前端</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="搭建以太坊私链"><a href="#搭建以太坊私链" class="header-anchor">#</a> 搭建以太坊私链</h1> <h2 id="go-ethereum下载安装"><a href="#go-ethereum下载安装" class="header-anchor">#</a> Go Ethereum下载安装</h2> <h3 id="压缩包安装"><a href="#压缩包安装" class="header-anchor">#</a> 压缩包安装</h3> <p>下载地址：https://geth.ethereum.org/downloads/</p> <p>下载编译好的压缩包<code>Geth &amp; Tools 1.11.5</code>，解压后将 Geth 和其他组件移动到</p> <p><code>/usr/bin</code></p> <p>查看 geth 版本</p> <div class="language-bash extra-class"><pre class="language-bash"><code>geth version
</code></pre></div><h3 id="源码安装"><a href="#源码安装" class="header-anchor">#</a> 源码安装</h3> <h4 id="安装-golang"><a href="#安装-golang" class="header-anchor">#</a> 安装 Golang</h4> <p>go 版本可从官网查询https://golang.google.cn/dl/</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> https://storage.googleapis.com/golang/go1.10.2.linux-amd64.tar.gz

<span class="token function">tar</span> <span class="token parameter variable">-C</span> /usr/local <span class="token parameter variable">-zxzf</span> go1.10.2.linux-amd64.tar.gz

<span class="token builtin class-name">echo</span> <span class="token string">&quot;export GOROOT=/usr/local/go&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/profile

<span class="token builtin class-name">echo</span> <span class="token string">&quot;export PATH=/usr/local/go/bin:<span class="token environment constant">$PATH</span>&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/profile
<span class="token builtin class-name">source</span> /etc/profile
</code></pre></div><p>验证 go 版本</p> <div class="language- extra-class"><pre class="language-text"><code>go version
</code></pre></div><h4 id="下载-go-ethereum-源码"><a href="#下载-go-ethereum-源码" class="header-anchor">#</a> 下载 go-ethereum 源码</h4> <blockquote><p>注意：git clone 为最新版本</p></blockquote> <blockquote><p>注意：新版本中 personal 和 miner 模块已经弃用，在账户管理和挖矿（过度到 PoS 后，关闭了挖矿）上有区别</p></blockquote> <p>GitHub 下载老版本 https://github.com/ethereum/go-ethereum/releases/tag/v1.9.3</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-C</span> /usr/local <span class="token parameter variable">-zxvf</span> go-ethereum-1.9.3.tat.gz

<span class="token builtin class-name">cd</span> go-ethereum-1.9.3

<span class="token function">make</span> all

<span class="token builtin class-name">echo</span> <span class="token string">&quot;export PATH=<span class="token environment constant">$PATH</span>:/usr/local/go-ethereum-1.9.3/build/bin&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/profile

<span class="token builtin class-name">source</span> /etc/profile
</code></pre></div><p>检查 geth 版本</p> <div class="language-bash extra-class"><pre class="language-bash"><code>geth version
</code></pre></div><h2 id="编写genesis-json"><a href="#编写genesis-json" class="header-anchor">#</a> 编写genesis.json</h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;chainId&quot;</span><span class="token operator">:</span> <span class="token number">88</span><span class="token punctuation">,</span>  <span class="token comment">//该链的ID。在用geth 启动区块链时，还需要指定一个network 参数。只有当network、chainID、创世区块配置都相同时，才是同一条链。</span>
		<span class="token property">&quot;homesteadBlock&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//相关协议机制的升级区块所在的高度，签名算法是homestead -&gt;eip155 -&gt; eip158，所以从homesteadBlock 之前区块都通过homestead 相关算法机制来验证，homesteadBlock 到eip155Block 之间的用eip155 算法来验证，依次类推。</span>
		<span class="token property">&quot;eip150Block&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;eip155Block&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;eip158Block&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;coinbase&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//每挖出一个区块，都会获得奖励。该值指定默认情况下把奖励给到哪个账户。实际上，我们每次挖矿开始之前，都会自己指定miner.setEtherbase(UserAddress)，一般都会把奖励给自己</span>

	
	<span class="token property">&quot;difficulty&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x40000&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//定义了每次挖矿时，最终确定nonce 的难度</span>
	<span class="token property">&quot;extraData&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;gasLimit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0xffffffff&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//规定该区块链中，gas 的上限</span>
	<span class="token property">&quot;nonce&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x0000000000000042&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//预定一个随机数，这是一个与PoW 机制有关的值</span>
	<span class="token property">&quot;mixhash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//一个与PoW 机制有关的值</span>
	<span class="token property">&quot;parentHash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span> <span class="token comment">//在区块链中，区块是相连的，parentHash 指定了本区块的上一个区块Hash。对于创世区块来说，parentHash 为0</span>
	<span class="token property">&quot;timestamp&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x00&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 时间戳，规定创世区块开始的时间</span>
	<span class="token property">&quot;alloc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token property">&quot;0x0930167EdA15D561F466D01FA08D89D00d3298e4&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000000000000000000&quot;</span> <span class="token punctuation">}</span>

	<span class="token punctuation">}</span>   <span class="token comment">//代表初始资产配置，在该区块链产生时，就预先赋予这些账户一定数额的WEI（不是ETH）</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>vim [yourChainDir]/genesis.json
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;chainId&quot;</span><span class="token operator">:</span> <span class="token number">88</span><span class="token punctuation">,</span>  
		<span class="token property">&quot;homesteadBlock&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
		<span class="token property">&quot;eip150Block&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;eip155Block&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;eip158Block&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;coinbase&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;difficulty&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x2000&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;extraData&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;gasLimit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0xffffffff&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;nonce&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x0000000000000042&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;mixhash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;parentHash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;timestamp&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x00&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;alloc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token property">&quot;0x0930167EdA15D561F466D01FA08D89D00d3298e4&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000000000000000000&quot;</span> <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="初始化"><a href="#初始化" class="header-anchor">#</a> 初始化</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token punctuation">[</span>yourChainDir<span class="token punctuation">]</span>/
geth <span class="token parameter variable">--datadir</span> <span class="token punctuation">[</span>datadir<span class="token punctuation">]</span> init genesis.json
</code></pre></div><p><code>[yourDataDir]</code>：当前链的数据目录</p> <h2 id="启动链"><a href="#启动链" class="header-anchor">#</a> 启动链</h2> <h3 id="_1、console"><a href="#_1、console" class="header-anchor">#</a> 1、console</h3> <p>启动geth节点时，使用console参数，该参数启动交互式JavaScript环境。</p> <p>并将日志输出到当前目录的 <code>geth.log</code></p> <p>比如：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>geth <span class="token parameter variable">--datadir</span> <span class="token punctuation">[</span>yourDataDir<span class="token punctuation">]</span> <span class="token parameter variable">--networkid</span> <span class="token punctuation">[</span>yourChainId<span class="token punctuation">]</span> console <span class="token number">2</span> <span class="token operator">&gt;&gt;</span> eth.log
</code></pre></div><p><code>[yourChainId]</code>：<code>genesis.json</code>中配置的<code>&quot;chainId&quot;: 88</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>geth <span class="token parameter variable">--datadir</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">--networkid</span> <span class="token number">88</span> console <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&gt;</span>eth.log
</code></pre></div><blockquote><p>xxz11.networkid = 88, xxz12.networkid = 8848</p></blockquote> <h3 id="_2、attach"><a href="#_2、attach" class="header-anchor">#</a> 2、attach</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>geth <span class="token parameter variable">--datadir</span> <span class="token punctuation">[</span>yourDataDir<span class="token punctuation">]</span> <span class="token parameter variable">--rpc</span> <span class="token parameter variable">--rpcport</span> <span class="token number">8545</span> <span class="token parameter variable">--rpcaddr</span> <span class="token string">&quot;0.0.0.0&quot;</span> <span class="token parameter variable">--rpcapi</span> <span class="token string">&quot;personal,eth,net,web3,admin&quot;</span>  <span class="token parameter variable">--rpccorsdomain</span> <span class="token string">&quot;*&quot;</span> <span class="token parameter variable">--networkid</span> <span class="token punctuation">[</span>yourChainId<span class="token punctuation">]</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>geth <span class="token parameter variable">--datadir</span> <span class="token builtin class-name">.</span>  <span class="token parameter variable">--rpc</span> <span class="token parameter variable">--rpcport</span> <span class="token number">8545</span> <span class="token parameter variable">--rpcapi</span> <span class="token string">&quot;personal,eth,net,web3,admin&quot;</span>  <span class="token parameter variable">--rpccorsdomain</span> <span class="token string">&quot;*&quot;</span> <span class="token parameter variable">--networkid</span> <span class="token number">88</span>
</code></pre></div><p>也可以通过attach命令进入指定节点，该参数通过连接已知节点，启动交互式JavaScript环境。比如本机已经启动节点，通常可以用以下方式进入命令界面：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>geth attach ipc:/<span class="token punctuation">[</span>yourDataDir<span class="token punctuation">]</span>/geth.ipc
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>geth attach ipc:./geth.ipc
</code></pre></div><h2 id="创建新账号"><a href="#创建新账号" class="header-anchor">#</a> 创建新账号</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>Public address of the key:

<span class="token comment"># xxz11</span>
0x7B6a8f8e474dD30054fc100Eb3627db8D0c08E7F

<span class="token comment"># xxz12</span>
0x9ac375673d1c9667cbd23b8a74937db8f339ad6f

</code></pre></div><p>老版本使用 personal 对象管理账户</p> <h4 id="personal-newaccount"><a href="#personal-newaccount" class="header-anchor">#</a> personal.newAccount</h4> <p>方法生成一个新的私钥并直接存入密钥库目录。密钥文件使用指定的密钥加密。</p> <p>该方法需要在启动geth时--rpcapi包含了personal；</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">newAccount</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span>                <span class="token comment">//直接使用密码</span>
personal<span class="token punctuation">.</span><span class="token function">newAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                          <span class="token comment">//控制台提示输入密码并确认</span>
</code></pre></div><p>本文示例：</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">newAccount</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span>
<span class="token string">&quot;0x38d8b866a1abebca20afc004622f5355eefeb568&quot;</span>
personal<span class="token punctuation">.</span><span class="token function">newAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">Passphrase</span><span class="token operator">:</span>
Repeat passphrase<span class="token operator">:</span>
<span class="token string">&quot;0xda25997b15a6bea86116942b8ab69a5620d82284&quot;</span>
</code></pre></div><h4 id="personal-unlockaccount"><a href="#personal-unlockaccount" class="header-anchor">#</a> personal.unlockAccount</h4> <p>方法对密码库中指定地址对应的密钥进行解密。</p> <p>当使用Geth的JavaScript 控制台时，账户默认是锁定状态；</p> <p>尝试解锁时，密码和解锁时长都是可选的，默认的解锁周期为300秒。如果未提供密码，控制台将提示交互输密码。</p> <p>解密的密钥将保存在内存中直到解锁周期超时。显示地将解锁周期设置为0秒将解锁该密钥直到退出geth程序。</p> <p>账号解锁后可以用于签名（eth_sign）和发送交易（eth_sendTransaction）调用。</p> <p>方式一：指定解锁账户地址，交互方式输入密码，默认解锁300秒</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">unlockAccount</span><span class="token punctuation">(</span><span class="token string">&quot;0x38d8b866a1abebca20afc004622f5355eefeb568&quot;</span><span class="token punctuation">)</span>  
</code></pre></div><p>方式二：指定本地具体账户，交互方式输入密码，默认解锁300秒</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">unlockAccount</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
</code></pre></div><p>方式三：指定解锁账户地址，解锁10分钟</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">unlockAccount</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">)</span>  
</code></pre></div><p>方式四：指定解锁账户地址，交互方式输入密码，解锁10分钟</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">unlockAccount</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">)</span> 
</code></pre></div><p>方式五：指定解锁账户地址，关闭geth前一直解锁状态</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">unlockAccount</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>  
</code></pre></div><p>本文示例：</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">unlockAccount</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
Unlock account <span class="token number">0x38d8b866a1abebca20afc004622f5355eefeb568</span>
<span class="token literal-property property">Passphrase</span><span class="token operator">:</span>
<span class="token boolean">true</span>
personal<span class="token punctuation">.</span><span class="token function">unlockAccount</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token boolean">true</span>
</code></pre></div><blockquote><p>注意：在最新版本（Geth1.9.14）中，当执行personal.unlockAccount()或在程序中调用personal_unlockAccount接口时，会出现：account unlock with HTTP access is forbidden异常。</p></blockquote> <p>如果已经了解打开此功能的风险，可通过在geth启动命令中添加参数&quot;--allow-insecure-unlock&quot;实现正常解锁：</p> <p>geth --allow-insecure-unlock</p> <h4 id="personal-lockaccount"><a href="#personal-lockaccount" class="header-anchor">#</a> personal.lockAccount</h4> <p>方法从内存中移除指定地址对应的私钥，该账户将不能再发送交易。</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">lockAccount</span><span class="token punctuation">(</span><span class="token string">&quot;0x38d8b866a1abebca20afc004622f5355eefeb568&quot;</span><span class="token punctuation">)</span>    
</code></pre></div><p>或者</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">lockAccount</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>本文示例：</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">lockAccount</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token boolean">true</span>
</code></pre></div><h4 id="personal-listaccounts"><a href="#personal-listaccounts" class="header-anchor">#</a> personal.listAccounts</h4> <p>方法返回密钥库中所有密钥对应的以太坊账户地址。</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span>listAccounts
</code></pre></div><p>本文示例：</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span>listAccounts
<span class="token punctuation">[</span><span class="token string">&quot;0x0297a8913cc187d60712f095a7e1bf2421bfcd40&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;0x38d8b866a1abebca20afc004622f5355eefeb568&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;0xda25997b15a6bea86116942b8ab69a5620d82284&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h4 id="personal-sendtransaction"><a href="#personal-sendtransaction" class="header-anchor">#</a> personal.sendTransaction</h4> <p>方法验证指定的密码并提交交易，该方法的交易参数与eth_sendTransaction一样，同时包含from账户地址。</p> <p>如果密码可以成功解密交易中from地址对应的私钥，那么该方法将验证交易、 签名并广播到以太坊网络中。</p> <p>由于在sendTransaction方法调用时，from账户并未在节点中全局解锁 （仅在该调用内解锁），因此from账户不能用于其他RPC调用。</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">sendTransaction</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> passphrase<span class="token punctuation">)</span>
</code></pre></div><p>本文示例：</p> <div class="language-js extra-class"><pre class="language-js"><code>eth<span class="token punctuation">.</span><span class="token function">getBalance</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">1.000000000001e+24</span>
personal<span class="token punctuation">.</span><span class="token function">unlockAccount</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token boolean">true</span>
personal<span class="token punctuation">.</span><span class="token function">sendTransaction</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">from</span><span class="token operator">:</span> eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&quot;0xda25997b15a6bea86116942b8ab69a5620d82284&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2000000000000000000</span><span class="token punctuation">}</span><span class="token punctuation">)</span>          <span class="token comment">//默认最小单位</span>
<span class="token string">&quot;0xda469a3221a34ce81010b9cfc4df66e5d9cbffd46c670fe7c5da1a263aa4e62b&quot;</span>
eth<span class="token punctuation">.</span><span class="token function">getBalance</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">9.9999799998e+23</span>
eth<span class="token punctuation">.</span><span class="token function">getBalance</span><span class="token punctuation">(</span><span class="token string">&quot;0xda25997b15a6bea86116942b8ab69a5620d82284&quot;</span><span class="token punctuation">)</span>
<span class="token number">2000000000000000000</span>

personal<span class="token punctuation">.</span><span class="token function">sendTransaction</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">from</span><span class="token operator">:</span> eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&quot;0xda25997b15a6bea86116942b8ab69a5620d82284&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> web3<span class="token punctuation">.</span><span class="token function">toWei</span><span class="token punctuation">(</span><span class="token number">1.23</span><span class="token punctuation">,</span> <span class="token string">&quot;ether&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment">//自定义以太单位</span>
<span class="token string">&quot;0x20e5eca5dd2671fa528958705aa3045dc8d6cf79374a50794dd18a9bb76ea2fc&quot;</span>
</code></pre></div><p>通过示例可以看出：1.发送的单位默认是最小单位&quot;wei&quot;；用户也可以指定单位；2.该交易支付了gas费；</p> <p>新版本 geth 在 JS 控制台中无法使用 personal 对象，无法创建账户</p> <p>https://geth.ethereum.org/docs/interacting-with-geth/rpc/ns-personal</p> <p>使用 bash 命令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>geth account new <span class="token parameter variable">--datadir</span> <span class="token punctuation">[</span>yourDataDir<span class="token punctuation">]</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>Your new account is locked with a password. Please give a password. Do not forget this password.
Password: 
Repeat password: 

Your new key was generated

Public address of the key:   0x7B6a8f8e474dD30054fc100Eb3627db8D0c08E7F
Path of the secret key file: keystore/UTC--2023-04-11T14-18-49.867009581Z--7b6a8f8e474dd30054fc100eb3627db8d0c08e7f

- You can share your public address with anyone. Others need it to interact with you.
- You must NEVER share the secret key with anyone<span class="token operator">!</span> The key controls access to your funds<span class="token operator">!</span>
- You must BACKUP your key file<span class="token operator">!</span> Without the key, it<span class="token string">'s impossible to access account funds!
- You must REMEMBER your password! Without the password, it'</span>s impossible to decrypt the key<span class="token operator">!</span>

</code></pre></div><p>使用geth的account命令管理账户，例如创建新账户、更新账户密码、查询账户等：</p> <div class="language-css extra-class"><pre class="language-css"><code>geth account &lt;command&gt; [options...] [arguments...]
</code></pre></div><h4 id="命令-command"><a href="#命令-command" class="header-anchor">#</a> 命令 - command</h4> <ul><li>list 列表显示现有账户</li> <li>new 创建一个新的账户</li> <li>update 修改账户</li> <li>import 导入私钥创建新账户</li></ul> <p>可以使用<code>--help</code>获取这些命令的帮助信息，例如：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>~$ geth account list <span class="token parameter variable">--help</span> 

list <span class="token punctuation">[</span>command options<span class="token punctuation">]</span> <span class="token punctuation">[</span>arguments<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre></div><h4 id="options"><a href="#options" class="header-anchor">#</a> OPTIONS:</h4> <ul><li><code>--datadir</code> &quot;/home/bas/.ethereum&quot; Data directory for the databases and keystore</li> <li><code>--keystore</code> Directory for the keystore (default = inside the datadir)</li></ul> <h4 id="创建新账户"><a href="#创建新账户" class="header-anchor">#</a> 创建新账户</h4> <p>使用<code>geth account new</code>命令新建账户：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ geth account new
</code></pre></div><h4 id="导入私钥创建新账户"><a href="#导入私钥创建新账户" class="header-anchor">#</a> 导入私钥创建新账户</h4> <p>可以使用<code>geth account import</code>命令，通过导入私钥来创建一个新账户，</p> <div class="language-bash extra-class"><pre class="language-bash"><code>~$ geth account <span class="token function">import</span> <span class="token parameter variable">--datadir</span> /someOtherEthDataDir ./key.prv 
</code></pre></div><h4 id="更新账户密码"><a href="#更新账户密码" class="header-anchor">#</a> 更新账户密码</h4> <p>使用<code>geth account update</code>命令来更新指定账户的密码：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>~$ geth account update a94f5374fce5edbc8e2a8697c15331677e6ebf0b
</code></pre></div><h4 id="显示已有账户"><a href="#显示已有账户" class="header-anchor">#</a> 显示已有账户</h4> <p>使用<code>geth account list</code>命令列表显示已有账户，可选的可以使用<code>--keystore</code>指定keystore目录：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>~$ geth account list <span class="token parameter variable">--keystore</span> /tmp/mykeystore/
</code></pre></div><h2 id="开始-mining"><a href="#开始-mining" class="header-anchor">#</a> 开始 mining</h2> <h3 id="设置-coinbase"><a href="#设置-coinbase" class="header-anchor">#</a> 设置 coinbase</h3> <p><code>miner.setEtherbase(accountAddress)</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 将客户端中第一个账户接收挖矿奖励</span>
miner<span class="token punctuation">.</span><span class="token function">setEtherbase</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>account<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 查看 coinbase </span>
eth<span class="token punctuation">.</span>coinbase
</code></pre></div><h3 id="开始-结束-mining"><a href="#开始-结束-mining" class="header-anchor">#</a> 开始/结束 mining</h3> <p><code>miner.start([option] threadNumber)</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 开始 mining</span>
miner<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 开启1个线程 mining</span>
miner<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment">// 查看最新区块</span>
eth<span class="token punctuation">.</span>blockNumber

<span class="token comment">// 结束mining</span>
miner<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="设置额外数据"><a href="#设置额外数据" class="header-anchor">#</a> 设置额外数据</h3> <p><code>miner.setExtra(string)</code>：方法用来设置要包含在挖出区块中的额外的数据，最多32个字节。</p> <div class="language-js extra-class"><pre class="language-js"><code>miner<span class="token punctuation">.</span><span class="token function">setExtra</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
</code></pre></div><h2 id="开启-http-访问"><a href="#开启-http-访问" class="header-anchor">#</a> 开启 http 访问</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># old</span>
geth <span class="token parameter variable">--datadir</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">--networkid</span> <span class="token number">88</span> <span class="token parameter variable">--rpc</span> console <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&gt;</span>eth.log
<span class="token comment"># new</span>
geth <span class="token parameter variable">--datadir</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">--networkid</span> <span class="token number">88</span> <span class="token parameter variable">--http</span> console <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&gt;</span>eth.log
</code></pre></div><p>默认 HTTP 端口：8545</p> <p>当需要需要从宿主机的 metamask 钱包连接虚拟机私链，需要指定：</p> <ul><li><p>访问私链的 url：<code>rpcaddr/http.addr = 0.0.0.0</code>， <code>url = 0.0.0.0:8545</code></p></li> <li><p>允许访问的主机名：<code>rpcvhsot/http.vhosts = *</code>， “*”为通配符，允许所有主机访问</p></li> <li><p>必要时，可以开启允许跨域访问： <code>--rpccorsdomain/http.corsdomain = *</code>，“*”为通配符，允许所有地址跨域访问</p></li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># old</span>
geth <span class="token parameter variable">--datadir</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">--networkid</span> <span class="token number">8848</span> <span class="token parameter variable">--rpc</span> <span class="token parameter variable">--rpcaddr</span> <span class="token number">0.0</span>.0.0 <span class="token parameter variable">--rpcvhosts</span> <span class="token string">'*'</span> <span class="token parameter variable">--rpccorsdomain</span> <span class="token string">'*'</span> console <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&gt;</span>geth-output.log

<span class="token comment"># new</span>
geth <span class="token parameter variable">--datadir</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">--networkid</span> <span class="token number">88</span> <span class="token parameter variable">--http</span> <span class="token parameter variable">--http.addr</span> <span class="token number">0.0</span>.0.0 <span class="token parameter variable">--http.vhosts</span> <span class="token string">'*'</span> <span class="token parameter variable">--http.corsdomain</span> <span class="token string">'*'</span>  console <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&gt;</span>eth.log

</code></pre></div><h2 id="转账"><a href="#转账" class="header-anchor">#</a> 转账</h2> <p>解锁发起交易的账户</p> <div class="language-js extra-class"><pre class="language-js"><code>personal<span class="token punctuation">.</span><span class="token function">unlockAccount</span><span class="token punctuation">(</span>eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 在开启 http 访问下不可用</span>
</code></pre></div><p>发起交易，使用 geth 已有账户发送</p> <div class="language-js extra-class"><pre class="language-js"><code>eth<span class="token punctuation">.</span><span class="token function">sendTransaction</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">from</span><span class="token operator">:</span> eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">'0x0930167EdA15D561F466D01FA08D89D00d3298e4'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> web3<span class="token punctuation">.</span><span class="token function">toWei</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'ether'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 返回值：交易的 hash</span>
<span class="token string">&quot;0xd9d09bde6edf5f56e94aae0a9365acc64759c4a3e68918e6db3a777d16bd65e8&quot;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">5 天前</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blockchain/BTC/比特币与区块链.html" class="prev">
        比特币
      </a></span> <span class="next"><a href="/blockchain/Fabric/1_部署 Fabric 生产网络.html">
        搭建 Fabric 生产网络
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d06c6709.js" defer></script><script src="/assets/js/2.58244656.js" defer></script><script src="/assets/js/1.6ba70183.js" defer></script><script src="/assets/js/25.75176990.js" defer></script>
  </body>
</html>
