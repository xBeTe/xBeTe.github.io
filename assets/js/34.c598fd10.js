(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{316:function(e,a,r){"use strict";r.r(a);var t=r(14),s=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"使用-fabric-ca-生成-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-fabric-ca-生成-msp"}},[e._v("#")]),e._v(" 使用 Fabric CA 生成 MSP")]),e._v(" "),a("h2",{attrs:{id:"fabric-ca-网络拓扑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fabric-ca-网络拓扑"}},[e._v("#")]),e._v(" Fabric CA 网络拓扑")]),e._v(" "),a("p",[a("img",{attrs:{src:"http://mydoc-pics.oss-cn-chengdu.aliyuncs.com/img/network_topology.png",alt:"_images/network_topology.png"}})]),e._v(" "),a("p",[a("img",{attrs:{src:"http://mydoc-pics.oss-cn-chengdu.aliyuncs.com/img/2b325ad4e7704d6e81dededc74808ac2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp",alt:"image.png"}})]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"部署-fabric-ca"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署-fabric-ca"}},[e._v("#")]),e._v(" 部署 Fabric CA")]),e._v(" "),a("p",[e._v("编辑 "),a("code",[e._v("docker-compose-ca.yaml")])]),e._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'2.0'")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("fabric-ca")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ca-tls")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("tls\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" sh "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("c 'fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("server start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("d "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("b tls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("tls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("adminpw "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("port 7052'\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_HOME=/tmp/hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca/crypto\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_TLS_ENABLED=true\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_CSR_CN=ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("tls\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_CSR_HOSTS=0.0.0.0\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DEBUG=true\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DB_TYPE=mysql\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DB_DATASOURCE=root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("999795@tcp(192.168.159.11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("3306)/fabric_ca_tls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("?")]),e._v("parseTime=true\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" /tmp/hyperledger/tls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("/tmp/hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" 7052"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7052")]),e._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("rca-org0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org0\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" /bin/bash "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("c 'fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("server start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("d "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("b rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("adminpw "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("port 7053'\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_HOME=/tmp/hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca/crypto\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_TLS_ENABLED=true\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_CSR_CN=rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org0\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_CSR_HOSTS=0.0.0.0\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DEBUG=true\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DB_TYPE=mysql\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DB_DATASOURCE=root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("999795@tcp(192.168.159.11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("3306)/fabric_rca_org0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("?")]),e._v("parseTime=true\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" /tmp/hyperledger/org0/ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("/tmp/hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" 7053"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7053")]),e._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("rca-org1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" /bin/bash "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("c 'fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("server start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("d "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("b rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("adminpw'\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_HOME=/tmp/hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca/crypto\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_TLS_ENABLED=true\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_CSR_CN=rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org1\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_CSR_HOSTS=0.0.0.0\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DEBUG=true\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DB_TYPE=mysql\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DB_DATASOURCE=root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("999795@tcp(192.168.159.11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("3306)/fabric_rca_org1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("?")]),e._v("parseTime=true\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" /tmp/hyperledger/org1/ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("/tmp/hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" 7054"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7054")]),e._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("rca-org2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org2\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" /bin/bash "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("c 'fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("server start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("d "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("b rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("adminpw "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("port 7055'\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_HOME=/tmp/hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca/crypto\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_TLS_ENABLED=true\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_CSR_CN=rca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("org2\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_CSR_HOSTS=0.0.0.0\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DEBUG=true\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DB_TYPE=mysql\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" FABRIC_CA_SERVER_DB_DATASOURCE=root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("999795@tcp(192.168.159.11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("3306)/fabric_rca_org2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("?")]),e._v("parseTime=true\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" /tmp/hyperledger/org2/ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("/tmp/hyperledger/fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" fabric"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("ca\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" 7055"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7055")]),e._v("\n\n")])])]),a("p",[e._v("启动 fabric ca 服务：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker-compose")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" docker-compose-ca.yaml up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v("\n")])])]),a("p",[e._v("工作目录结构：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("/tmp/hyperledger\n├── fabric-ca-client\n├── org0\n├── org1\n├── org2\n└── tls-ca\n")])])]),a("h2",{attrs:{id:"注册-tls-ca-管理员-注册节点身份"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注册-tls-ca-管理员-注册节点身份"}},[e._v("#")]),e._v(" 注册 TLS CA 管理员，注册节点身份")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/tls-ca/crypto/tls-ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/tls-ca/admin\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" tls-ca/crypto/ca-cert.pem tls-ca/crypto/tls-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://tls-ca-admin:tls-ca-adminpw@0.0.0.0:7052\n")])])]),a("p",[e._v("注册 org1 的两个 peer 节点：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" peer0.org1.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" peer1PW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" peer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7052\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" peer1.org1.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" peer2PW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" peer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7052\n")])])]),a("p",[e._v("注册 org2 的两个 peer 节点：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" peer0.org2.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" peer1PW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" peer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7052\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" peer1.org2.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" peer2PW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" peer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7052\n")])])]),a("p",[e._v("注册 3 个 orderer 节点：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" orderer0.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" ordererPW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" orderer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7052\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" orderer1.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" ordererPW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" orderer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7052\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" orderer2.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" ordererPW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" orderer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7052\n")])])]),a("h2",{attrs:{id:"enroll-orderer-org-s-ca-admin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer-org-s-ca-admin"}},[e._v("#")]),e._v(" Enroll Orderer Org’s CA Admin")]),e._v(" "),a("p",[e._v("register orderer1 节点 & org0 管理员")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/ca/crypto/ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/ca/admin\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://rca-org0-admin:rca-org0-adminpw@0.0.0.0:7053\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" orderer0.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" ordererpw "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" orderer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7053\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" admin-org0 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" org0adminpw "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" admin "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.attrs")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hf.Registrar.Roles=*,hf.Registrar.DelegateRoles=*,hf.AffiliationMgr=true,hf.Registrar.Attributes=*,hf.Revoker=true,hf.GenCRL=true,admin=true:ecert"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7053\n")])])]),a("p",[e._v("register orderer2 节点")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" orderer1.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" ordererpw "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" orderer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7053\n")])])]),a("p",[e._v("register orderer3 节点")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" orderer2.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" ordererpw "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" orderer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7053\n")])])]),a("h2",{attrs:{id:"enroll-org1-s-ca-admin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org1-s-ca-admin"}},[e._v("#")]),e._v(" Enroll Org1’s CA Admin")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/ca/crypto/ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/ca/admin\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://rca-org1-admin:rca-org1-adminpw@0.0.0.0:7054\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" peer0.org1.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" peer1PW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" peer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7054\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" peer1.org1.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" peer2PW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" peer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7054\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" admin-org1 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" org1AdminPW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" admin "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.attrs")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hf.Registrar.Roles=*,hf.Registrar.DelegateRoles=*,hf.AffiliationMgr=true,hf.Registrar.Attributes=*,hf.Revoker=true,hf.GenCRL=true,admin=true:ecert"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7054\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" user-org1 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" org1UserPW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" user "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7054\n")])])]),a("h2",{attrs:{id:"enrolling-org2-s-ca-admin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enrolling-org2-s-ca-admin"}},[e._v("#")]),e._v(" Enrolling Org2’s CA Admin")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/ca/crypto/ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/ca/admin\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://rca-org2-admin:rca-org2-adminpw@0.0.0.0:7055\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" peer0.org2.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" peer1PW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" peer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7055\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" peer1.org2.example.com "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" peer2PW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" peer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7055\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" admin-org2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" org2AdminPW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" admin "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.attrs")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hf.Registrar.Roles=*,hf.Registrar.DelegateRoles=*,hf.AffiliationMgr=true,hf.Registrar.Attributes=*,hf.Revoker=true,hf.GenCRL=true,admin=true:ecert"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7055\n\n./fabric-ca-client register "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.name")]),e._v(" user-org2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.secret")]),e._v(" org2UserPW "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--id.type")]),e._v(" user "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://0.0.0.0:7055\n")])])]),a("h2",{attrs:{id:"enroll-org1-s-peers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org1-s-peers"}},[e._v("#")]),e._v(" Enroll Org1’s Peers")]),e._v(" "),a("h3",{attrs:{id:"enroll-org1-peer1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org1-peer1"}},[e._v("#")]),e._v(" Enroll Org1 Peer1")]),e._v(" "),a("h4",{attrs:{id:"enroll-org1-peer1-ecert-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org1-peer1-ecert-证书"}},[e._v("#")]),e._v(" enroll Org1 Peer1 ECert 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org1/peer1/assets/ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/ca/crypto/ca-cert.pem org1/peer1/assets/ca/org1-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/peer1\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/peer1/assets/ca/org1-ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("msp\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://peer0.org1.example.com:peer1PW@0.0.0.0:7054\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 更改私钥文件名称")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org1/peer1/msp/keystore/6ad80735398e8b939257638583b784062c7b7d4fac495f95a8fcda51109689be_sk org1/peer1/msp/keystore/priv_sk\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org1/peer1/msp/admincerts/\n")])])]),a("h4",{attrs:{id:"enroll-org1-peer1-tls-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org1-peer1-tls-证书"}},[e._v("#")]),e._v(" Enroll Org1 Peer1 TLS 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org1/peer1/assets/tls-ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" tls-ca/crypto/tls-ca-cert.pem org1/peer1/assets/tls-ca/tls-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/peer1\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("tls-msp\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/peer1/assets/tls-ca/tls-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://peer0.org1.example.com:peer1PW@0.0.0.0:7052 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--enrollment.profile")]),e._v(" tls "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--csr.hosts")]),e._v(" peer0.org1.example.com\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 keystore 路径下的文件改名为 key.pem")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org1/peer1/tls-msp/keystore/ab98eb578f9cbae9a4ba19930aa64de969a8a9dab4745ed2e268179f3c19c98a_sk org1/peer1/tls-msp/keystore/key.pem\n")])])]),a("h3",{attrs:{id:"enroll-peer2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-peer2"}},[e._v("#")]),e._v(" Enroll Peer2")]),e._v(" "),a("h4",{attrs:{id:"enroll-org1-peer2-ecert-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org1-peer2-ecert-证书"}},[e._v("#")]),e._v(" Enroll Org1 Peer2 ECert 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org1/peer2/assets/ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/ca/crypto/ca-cert.pem org1/peer2/assets/ca/org1-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/peer2\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/peer2/assets/ca/org1-ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("msp\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://peer1.org1.example.com:peer2PW@0.0.0.0:7054\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 修改私钥文件名称")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org1/peer2/msp/keystore/9a1d0af6644d92eb2480ebf949646aeadaeb056f63cc657a1abf99e684f09353_sk org1/peer2/msp/keystore/priv_sk\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org1/peer2/msp/admincerts/\n")])])]),a("h4",{attrs:{id:"enroll-org1-peer1-tls-证书-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org1-peer1-tls-证书-2"}},[e._v("#")]),e._v(" Enroll Org1 Peer1 TLS 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org1/peer2/assets/tls-ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" tls-ca/crypto/tls-ca-cert.pem org1/peer2/assets/tls-ca/tls-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/peer2\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("tls-msp\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/peer2/assets/tls-ca/tls-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://peer1.org1.example.com:peer2PW@0.0.0.0:7052 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--enrollment.profile")]),e._v(" tls "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--csr.hosts")]),e._v(" peer1.org1.example.com\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 keystore 路径下的文件改名为 key.pem")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org1/peer2/tls-msp/keystore/453d462a17fab6a8ce766222e471bb357731bd931d03102bef7c50f9d2413502_sk org1/peer2/tls-msp/keystore/key.pem\n")])])]),a("h3",{attrs:{id:"enroll-org1-s-admin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org1-s-admin"}},[e._v("#")]),e._v(" Enroll Org1’s Admin")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/admin\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org1/peer1/assets/ca/org1-ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("msp\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://admin-org1:org1AdminPW@0.0.0.0:7054\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 修改私钥文件名称")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" /tmp/hyperledger/org1/admin/msp/keystore/582112d3dcce1f7b4d3b81707d78740192903dd3de3560b559bb2c6f2a737afc_sk /tmp/hyperledger/org1/admin/msp/keystore/priv_sk\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /tmp/hyperledger/org1/admin/msp/signcerts/cert.pem /tmp/hyperledger/org1/peer1/msp/admincerts/org1-admin-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /tmp/hyperledger/org1/admin/msp/signcerts/cert.pem /tmp/hyperledger/org1/peer2/msp/admincerts/org1-admin-cert.pem\n")])])]),a("hr"),e._v(" "),a("h2",{attrs:{id:"enroll-org2-s-peers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org2-s-peers"}},[e._v("#")]),e._v(" Enroll Org2’s Peers")]),e._v(" "),a("h3",{attrs:{id:"enroll-org2-peer1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org2-peer1"}},[e._v("#")]),e._v(" Enroll Org2 Peer1")]),e._v(" "),a("h4",{attrs:{id:"enroll-org2-peer1-ecert-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org2-peer1-ecert-证书"}},[e._v("#")]),e._v(" Enroll Org2 Peer1 ECert 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org2/peer1/assets/ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/ca/crypto/ca-cert.pem org2/peer1/assets/ca/org2-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/peer1\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/peer1/assets/ca/org2-ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("msp\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://peer0.org2.example.com:peer1PW@0.0.0.0:7055\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 修改私钥文件名称")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org2/peer1/msp/keystore/f509050d7ed2d00840fd376c9f3608bf6d30a56243df925e6ddf8f56f8f079d7_sk org2/peer1/msp/keystore/priv_sk\n")])])]),a("h4",{attrs:{id:"enroll-org2-peer1-tls-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org2-peer1-tls-证书"}},[e._v("#")]),e._v(" Enroll Org2 Peer1 TLS 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" org2/peer1/assets/tls-ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" tls-ca/crypto/tls-ca-cert.pem org2/peer1/assets/tls-ca/tls-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/peer1\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("tls-msp\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/peer1/assets/tls-ca/tls-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://peer0.org2.example.com:peer1PW@0.0.0.0:7052 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--enrollment.profile")]),e._v(" tls "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--csr.hosts")]),e._v(" peer0.org2.example.com\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 keystore 路径下的文件改名为 key.pem")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org2/peer1/tls-msp/keystore/93d05088bfc052590e6be5443a9eea366fb809f332e776a8de00af65414270a6_sk org2/peer1/tls-msp/keystore/key.pem\n")])])]),a("h3",{attrs:{id:"enroll-org2-peer2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org2-peer2"}},[e._v("#")]),e._v(" Enroll Org2 Peer2")]),e._v(" "),a("h4",{attrs:{id:"enroll-org2-peer2-ecert-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org2-peer2-ecert-证书"}},[e._v("#")]),e._v(" Enroll Org2 Peer2 ECert 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org2/peer2/assets/ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/ca/crypto/ca-cert.pem org2/peer2/assets/ca/org2-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/peer2\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/peer2/assets/ca/org2-ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("msp\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://peer1.org2.example.com:peer2PW@0.0.0.0:7055\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 修改私钥文件名称")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org2/peer2/msp/keystore/e9cf22b0d86fb74982aa6a0a07d5ce87dc68b11a720fb58d790c270226d29467_sk org2/peer2/msp/keystore/priv_sk\n")])])]),a("h4",{attrs:{id:"enroll-org2-peer2-tls-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org2-peer2-tls-证书"}},[e._v("#")]),e._v(" Enroll Org2 Peer2 TLS 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org2/peer2/assets/tls-ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" tls-ca/crypto/tls-ca-cert.pem org2/peer2/assets/tls-ca/tls-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/peer2\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("tls-msp\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/peer2/assets/tls-ca/tls-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://peer1.org2.example.com:peer2PW@0.0.0.0:7052 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--enrollment.profile")]),e._v(" tls "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--csr.hosts")]),e._v(" peer1.org2.example.com\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 keystore 路径下的文件改名为 key.pem")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org2/peer2/tls-msp/keystore/aae8347ef1fe0fb9b333f8685a33a1084704ffd4d4f3e5af1ed4463f8381588c_sk org2/peer2/tls-msp/keystore/key.pem\n")])])]),a("h3",{attrs:{id:"enroll-org2-s-admin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org2-s-admin"}},[e._v("#")]),e._v(" Enroll Org2’s Admin")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org2/peer1/msp/admincerts\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org2/peer2/msp/admincerts\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/admin\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org2/peer1/assets/ca/org2-ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("msp\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://admin-org2:org2AdminPW@0.0.0.0:7055\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 修改私钥文件名称")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" /tmp/hyperledger/org2/admin/msp/keystore/447237fc7ac9c8f43af9035dc5969c7d1a29a7544bc4243293857d7bf744fe48_sk /tmp/hyperledger/org2/admin/msp/keystore/priv_sk\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/admin/msp/signcerts/cert.pem org2/peer1/msp/admincerts/org2-admin-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/admin/msp/signcerts/cert.pem org2/peer2/msp/admincerts/org2-admin-cert.pem\n")])])]),a("hr"),e._v(" "),a("h2",{attrs:{id:"enroll-orderer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer"}},[e._v("#")]),e._v(" Enroll Orderer")]),e._v(" "),a("h3",{attrs:{id:"enroll-orderer1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer1"}},[e._v("#")]),e._v(" Enroll Orderer1")]),e._v(" "),a("h4",{attrs:{id:"enroll-orderer1-ecert-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer1-ecert-证书"}},[e._v("#")]),e._v(" Enroll Orderer1 ECert 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org0/orderer1/assets/ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/ca/crypto/ca-cert.pem org0/orderer1/assets/ca/org0-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer1\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("msp\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer1/assets/ca/org0-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://orderer0.example.com:ordererpw@0.0.0.0:7053\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 修改私钥文件名称")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org0/orderer1/msp/keystore/308fb646f0ad42341a05c918b409617b620827560d2f2383ca24a6e3982cb197_sk org0/orderer1/msp/keystore/priv_sk\n")])])]),a("h4",{attrs:{id:"enroll-orderer1-tls-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer1-tls-证书"}},[e._v("#")]),e._v(" Enroll Orderer1 TLS 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org0/orderer1/assets/tls-ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" tls-ca/crypto/tls-ca-cert.pem org0/orderer1/assets/tls-ca/tls-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer1\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("tls-msp\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer1/assets/tls-ca/tls-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://orderer0.example.com:ordererPW@0.0.0.0:7052 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--enrollment.profile")]),e._v(" tls "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--csr.hosts")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'orderer0.example.com,orderer0,192.168.159.11'")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 keystore 路径下的文件改名为 key.pem ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org0/orderer1/tls-msp/keystore/c6943522622556fe52c32bbf5cfcaf083d9903b33a8e734107ca576b138bbcd5_sk org0/orderer1/tls-msp/keystore/key.pem\n")])])]),a("h3",{attrs:{id:"enroll-orderer2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer2"}},[e._v("#")]),e._v(" Enroll Orderer2")]),e._v(" "),a("h4",{attrs:{id:"enroll-orderer2-ecert-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer2-ecert-证书"}},[e._v("#")]),e._v(" Enroll Orderer2 ECert 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org0/orderer2/assets/ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/ca/crypto/ca-cert.pem org0/orderer2/assets/ca/org0-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("msp\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer2\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer2/assets/ca/org0-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://orderer1.example.com:ordererpw@0.0.0.0:7053\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 修改私钥文件名称")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org0/orderer2/msp/keystore/e76fc9e3e9c3c44ae25479fc354d2a4071c9da253ed5f01975299229bda02f3f_sk org0/orderer2/msp/keystore/priv_sk\n")])])]),a("h4",{attrs:{id:"enroll-orderer2-tls-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer2-tls-证书"}},[e._v("#")]),e._v(" Enroll Orderer2 TLS 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org0/orderer2/assets/tls-ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" tls-ca/crypto/tls-ca-cert.pem org0/orderer2/assets/tls-ca/tls-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer2\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("tls-msp\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer2/assets/tls-ca/tls-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://orderer1.example.com:ordererPW@0.0.0.0:7052 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--enrollment.profile")]),e._v(" tls "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--csr.hosts")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'orderer1.example.com,orderer1,192.168.159.11'")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 keystore 路径下的文件改名为 key.pem")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org0/orderer2/tls-msp/keystore/2669d5381f0802e9b8dee1d4b5af329fe59dc64e4501ab777797c383f259fbcf_sk org0/orderer2/tls-msp/keystore/key.pem\n")])])]),a("h3",{attrs:{id:"enroll-orderer3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer3"}},[e._v("#")]),e._v(" Enroll Orderer3")]),e._v(" "),a("h4",{attrs:{id:"enroll-orderer3-ecert-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer3-ecert-证书"}},[e._v("#")]),e._v(" Enroll Orderer3 ECert 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org0/orderer3/assets/ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/ca/crypto/ca-cert.pem org0/orderer3/assets/ca/org0-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("msp\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer3\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer3/assets/ca/org0-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://orderer2.example.com:ordererpw@0.0.0.0:7053\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 修改私钥文件名称")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org0/orderer3/msp/keystore/17121acc947bc270fbb7f7832026e34e6458751eb8f0dd6b2d2c420b6c331402_sk org0/orderer3/msp/keystore/priv_sk\n")])])]),a("h4",{attrs:{id:"enroll-orderer3-tls-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-orderer3-tls-证书"}},[e._v("#")]),e._v(" Enroll Orderer3 TLS 证书")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" org0/orderer3/assets/tls-ca/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" tls-ca/crypto/tls-ca-cert.pem org0/orderer3/assets/tls-ca/tls-ca-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer3\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("tls-msp\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/orderer3/assets/tls-ca/tls-ca-cert.pem\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://orderer2.example.com:ordererPW@0.0.0.0:7052 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--enrollment.profile")]),e._v(" tls "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--csr.hosts")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'orderer2.example.com,orderer2,192.168.159.11'")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 keystore 路径下的文件改名为 key.pem")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" org0/orderer3/tls-msp/keystore/1362d82282747de68a35d2a6026cd8e5f2276c60dd35e7e76bfd28f8667f8313_sk org0/orderer3/tls-msp/keystore/key.pem\n")])])]),a("hr"),e._v(" "),a("h3",{attrs:{id:"enroll-org0-s-admin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enroll-org0-s-admin"}},[e._v("#")]),e._v(" Enroll Org0’s Admin")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/admin\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_TLS_CERTFILES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/tmp/hyperledger/org0/ca/crypto/ca-cert.pem\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FABRIC_CA_CLIENT_MSPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("msp\n\n./fabric-ca-client enroll "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" https://admin-org0:org0adminpw@0.0.0.0:7053\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 修改私钥文件名称")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" /tmp/hyperledger/org0/admin/msp/keystore/4ee4c8bc13c068e1aca976dc06a430fa0e54a329714dd62f5b4a9f0fd6f2eea7_sk /tmp/hyperledger/org0/admin/msp/keystore/priv_sk\n\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" /tmp/hyperledger/org0/orderer1/msp/admincerts "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /tmp/hyperledger/org0/admin/msp/signcerts/cert.pem /tmp/hyperledger/org0/orderer1/msp/admincerts/orderer-admin-cert.pem\n\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" /tmp/hyperledger/org0/orderer2/msp/admincerts "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /tmp/hyperledger/org0/admin/msp/signcerts/cert.pem /tmp/hyperledger/org0/orderer2/msp/admincerts/orderer-admin-cert.pem\n\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" /tmp/hyperledger/org0/orderer3/msp/admincerts "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /tmp/hyperledger/org0/admin/msp/signcerts/cert.pem /tmp/hyperledger/org0/orderer3/msp/admincerts/orderer-admin-cert.pem\n")])])]),a("h2",{attrs:{id:"构建-orderer-本地-msp-结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建-orderer-本地-msp-结构"}},[e._v("#")]),e._v(" 构建 Orderer 本地 MSP 结构")]),e._v(" "),a("h4",{attrs:{id:"orderer-1-local-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#orderer-1-local-msp"}},[e._v("#")]),e._v(" Orderer 1 Local MSP")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/msp\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/tls\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# TLS 私钥")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer1/tls-msp/keystore/key.pem crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/tls/server.key\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# TLS 签名证书")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer1/tls-msp/signcerts/cert.pem crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/tls/server.crt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# TLS 根证书")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer1/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/tls/ca.crt\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-r")]),e._v(" org0/orderer1/msp/ crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/msp/cacerts/0-0-0-0-7053.pem crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/msp/cacerts/ca.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/msp/tlscacerts "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer1/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/msp/tlscacerts/tlsca.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("h4",{attrs:{id:"orderer-2-local-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#orderer-2-local-msp"}},[e._v("#")]),e._v(" Orderer 2 Local MSP")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/msp\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/tls\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# TLS 私钥")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer2/tls-msp/keystore/key.pem crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/tls/server.key\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# TLS 签名证书")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer2/tls-msp/signcerts/cert.pem crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/tls/server.crt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# TLS 根证书")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer2/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/tls/ca.crt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# MSP")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-r")]),e._v(" org0/orderer2/msp/ crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/msp/cacerts/0-0-0-0-7053.pem crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/msp/cacerts/ca.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/msp/tlscacerts "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer2/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/msp/tlscacerts/tlsca.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer1.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("h4",{attrs:{id:"orderer-3-local-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#orderer-3-local-msp"}},[e._v("#")]),e._v(" Orderer 3 Local MSP")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/msp\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/tls\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# TLS 私钥")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer3/tls-msp/keystore/key.pem crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/tls/server.key\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# TLS 签名证书")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer3/tls-msp/signcerts/cert.pem crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/tls/server.crt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# TLS 根证书")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer3/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/tls/ca.crt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# MSP")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-r")]),e._v(" org0/orderer3/msp/ crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/msp/cacerts/0-0-0-0-7053.pem crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/msp/cacerts/ca.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/msp/tlscacerts "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer3/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/msp/tlscacerts/tlsca.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/ordererOrganizations/example.com/orderers/orderer2.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("h4",{attrs:{id:"crypto-config-ordererorganizations-example-com-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crypto-config-ordererorganizations-example-com-msp"}},[e._v("#")]),e._v(" crypto-config/ordererOrganizations/example.com/msp/")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/msp/admincerts\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/msp/cacerts\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/ordererOrganizations/example.com/msp/tlscacerts\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer1/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org0/orderer1/msp/cacerts/0-0-0-0-7053.pem crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /tmp/hyperledger/org0/admin/msp/signcerts/cert.pem crypto-config/ordererOrganizations/example.com/msp/admincerts/orderer-admin-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/ordererOrganizations/example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/ca.example.com-cert.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("hr"),e._v(" "),a("h2",{attrs:{id:"构建-org1-peer-本地-msp-结构。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建-org1-peer-本地-msp-结构。"}},[e._v("#")]),e._v(" 构建 Org1 Peer 本地 MSP 结构。")]),e._v(" "),a("h4",{attrs:{id:"org1-peer1-local-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#org1-peer1-local-msp"}},[e._v("#")]),e._v(" Org1 Peer1 Local MSP")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-r")]),e._v(" org1/peer1/msp/ crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/peer1/tls-msp/signcerts/cert.pem crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/peer1/tls-msp/keystore/key.pem crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/peer1/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("h4",{attrs:{id:"org1-peer2-local-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#org1-peer2-local-msp"}},[e._v("#")]),e._v(" Org1 Peer2 Local MSP")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org1.example.com/peers/peer1.org1.example.com/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-r")]),e._v(" org1/peer2/msp/ crypto-config/peerOrganizations/org1.example.com/peers/peer1.org1.example.com/\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org1.example.com/peers/peer1.org1.example.com/tls\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/peer2/tls-msp/signcerts/cert.pem crypto-config/peerOrganizations/org1.example.com/peers/peer1.org1.example.com/tls/server.crt\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/peer2/tls-msp/keystore/key.pem crypto-config/peerOrganizations/org1.example.com/peers/peer1.org1.example.com/tls/server.key\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/peer2/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/peerOrganizations/org1.example.com/peers/peer1.org1.example.com/tls/ca.crt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/peerOrganizations/org1.example.com/peers/peer1.org1.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("h4",{attrs:{id:"crypto-config-peerorganizations-org1-example-com-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crypto-config-peerorganizations-org1-example-com-msp"}},[e._v("#")]),e._v(" crypto-config/peerOrganizations/org1.example.com/msp")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org1.example.com/msp/admincerts\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org1.example.com/msp/cacerts\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/admin/msp/cacerts/0-0-0-0-7054.pem crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/peer1/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /tmp/hyperledger/org1/admin/msp/signcerts/cert.pem crypto-config/peerOrganizations/org1.example.com/msp/admincerts/org1-admin-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/peerOrganizations/org1.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/ca.org1.example.com-cert.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/ca.org1.example.com-cert.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/ca.org1.example.com-cert.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/ca.org1.example.com-cert.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("h3",{attrs:{id:"crypto-config-peerorganizations-org1-example-com-users"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crypto-config-peerorganizations-org1-example-com-users"}},[e._v("#")]),e._v(" crypto-config/peerOrganizations/org1.example.com/users")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-r")]),e._v(" org1/admin/msp/ crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org1.example.com/users/Admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("@org1.example.com/msp/admincerts\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /tmp/hyperledger/org1/admin/msp/signcerts/cert.pem crypto-config/peerOrganizations/org1.example.com/users/Admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("@org1.example.com/msp/admincerts/org1-admin-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org1.example.com/users/Admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("@org1.example.com/msp/tlscacerts\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org1/peer1/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/peerOrganizations/org1.example.com/users/Admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("@org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7054.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("h2",{attrs:{id:"构建-org2-peer-本地-msp-结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建-org2-peer-本地-msp-结构"}},[e._v("#")]),e._v(" 构建 Org2 Peer 本地 MSP 结构")]),e._v(" "),a("h4",{attrs:{id:"org2-peer1-local-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#org2-peer1-local-msp"}},[e._v("#")]),e._v(" Org2 Peer1 Local MSP")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-r")]),e._v(" org2/peer1/msp/ crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/peer1/tls-msp/signcerts/cert.pem crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/peer1/tls-msp/keystore/key.pem crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/peer1/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("h4",{attrs:{id:"org2-peer2-local-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#org2-peer2-local-msp"}},[e._v("#")]),e._v(" Org2 Peer2 Local MSP")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org2.example.com/peers/peer1.org2.example.com/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-r")]),e._v(" org2/peer2/msp/ crypto-config/peerOrganizations/org2.example.com/peers/peer1.org2.example.com/\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org2.example.com/peers/peer1.org2.example.com/tls\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/peer2/tls-msp/signcerts/cert.pem crypto-config/peerOrganizations/org2.example.com/peers/peer1.org2.example.com/tls/server.crt\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/peer2/tls-msp/keystore/key.pem crypto-config/peerOrganizations/org2.example.com/peers/peer1.org2.example.com/tls/server.key\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/peer2/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/peerOrganizations/org2.example.com/peers/peer1.org2.example.com/tls/ca.crt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/peerOrganizations/org2.example.com/peers/peer1.org2.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("h4",{attrs:{id:"crypto-config-peerorganizations-org2-example-com-msp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crypto-config-peerorganizations-org2-example-com-msp"}},[e._v("#")]),e._v(" crypto-config/peerOrganizations/org2.example.com/msp")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org2.example.com/msp/admincerts\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org2.example.com/msp/cacerts\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/admin/msp/cacerts/0-0-0-0-7055.pem crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/peer1/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /tmp/hyperledger/org2/admin/msp/signcerts/cert.pem crypto-config/peerOrganizations/org2.example.com/msp/admincerts/org2-admin-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/peerOrganizations/org2.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/ca.org2.example.com-cert.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/ca.org2.example.com-cert.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/ca.org2.example.com-cert.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/ca.org2.example.com-cert.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("h3",{attrs:{id:"crypto-config-peerorganizations-org2-example-com-users"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crypto-config-peerorganizations-org2-example-com-users"}},[e._v("#")]),e._v(" crypto-config/peerOrganizations/org2.example.com/users")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-r")]),e._v(" org2/admin/msp/ crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org2.example.com/users/Admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("@org2.example.com/msp/admincerts\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /tmp/hyperledger/org2/admin/msp/signcerts/cert.pem crypto-config/peerOrganizations/org2.example.com/users/Admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("@org2.example.com/msp/admincerts/org2-admin-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" crypto-config/peerOrganizations/org2.example.com/users/Admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("@org2.example.com/msp/tlscacerts\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" org2/peer1/tls-msp/tlscacerts/tls-0-0-0-0-7052.pem crypto-config/peerOrganizations/org2.example.com/users/Admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("@org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编写 config.yaml 文件")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/config.yaml\n\nNodeOUs:\n  Enable: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n  ClientOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: client\n  PeerOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: peer\n  AdminOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: admin\n  OrdererOUIdentifier:\n    Certificate: cacerts/0-0-0-0-7055.pem\n    OrganizationalUnitIdentifier: orderer\n")])])]),a("p",[e._v("准备好 MSP 目录结构后就可以搭建 Fabric 网络了。")])])}),[],!1,null,null,null);a.default=s.exports}}]);